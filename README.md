
# ğŸ“ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¯Ø±Ø³ ØªØ­Ù„ÛŒÙ„ Ùˆ Ø·Ø±Ø§Ø­ÛŒ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø± Ù¾ÛŒØ´Ø±ÙØªÙ‡

**Ù…ÙˆØ¶ÙˆØ¹:** Ù¾Ù„ØªÙØ±Ù… Ù…Ø¯ÛŒØ±ÛŒØª Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡
**Ø§Ø³ØªØ§Ø¯:** Ø¯Ú©ØªØ± ÙÛŒØ¶ÛŒ
**Ù…Ø¯Øª Ø§Ø¬Ø±Ø§:** Û¸ Ù‡ÙØªÙ‡
**ØªÛŒÙ…:** Û¸ Ù†ÙØ± + Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ (ChatGPT)

---

## ğŸ”¥ Û±. Ú†Ø´Ù…â€ŒØ§Ù†Ø¯Ø§Ø² Ù¾Ø±ÙˆÚ˜Ù‡
Ù…Ø§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… ÛŒÚ© Ø³ÛŒØ³ØªÙ… ÙˆØ§Ù‚Ø¹ÛŒ Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ Ø¨Ø³Ø§Ø²ÛŒÙ… Ú©Ù‡ Ø´Ø¨ÛŒÙ‡ Ù¾Ù„ØªÙØ±Ù…â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡ÛŒ Ø¨Ø²Ø±Ú¯ Ø¨Ø§Ø´Ø¯. Ù‡Ø¯Ù Ø§ØµÙ„ÛŒ Ù…Ø§ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù…ÛŒÚ©Ø±ÙˆØ³Ø±ÙˆÛŒØ³ Ùˆ Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ù…Ø«Ù„ Saga Ùˆ Circuit Breaker Ø§Ø³Øª.

Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… Ø¨Ø¯Ø§Ù†ÛŒÙ… Ú†Ø·ÙˆØ± Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ù‚ÛŒØ§Ø³â€ŒÙ¾Ø°ÛŒØ± Ù…ÛŒâ€ŒØ³Ø§Ø²Ù†Ø¯ Ùˆ Ú†Ú¯ÙˆÙ†Ù‡ Ø¨Ø§ Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ù…Ø«Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§ Ùˆ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ØªÙˆØ²ÛŒØ¹ Ø´Ø¯Ù‡ Ø±ÙˆØ¨Ø±Ùˆ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.

Ø¨Ø±Ø§ÛŒ Ù…Ø§ Ú©ÛŒÙÛŒØª Ùˆ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø¹Ù…ÛŒÙ‚ Ù…Ù‡Ù…â€ŒØªØ± Ø§Ø² ØªÚ©Ù…ÛŒÙ„ Ø³Ø±ÛŒØ¹ Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø³Øª. Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… Ø¯Ø± Ù¾Ø§ÛŒØ§Ù† Ø¨ØªÙˆØ§Ù†ÛŒÙ… Ø¨Ø§ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¨Ú¯ÙˆÛŒÛŒÙ… Ú©Ù‡ Ø§Ø² Ù¾Ø³ Ø·Ø±Ø§Ø­ÛŒ Ùˆ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ ÛŒÚ© Ø³ÛŒØ³ØªÙ… Enterprise-Level Ø¨Ø±Ù…ÛŒâ€ŒØ¢ÛŒÛŒÙ….

Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø±Ø§ÛŒ Ù…Ø§ Ù…Ø«Ù„ ÛŒÚ© Ø¯ÙˆØ±Ù‡ Ø¹Ù…Ù„ÛŒ Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²Ø§Ø± Ú©Ø§Ø± Ø§Ø³Øª.

---

## ğŸš¨ Û². Ø§Ù„Ø²Ø§Ù…Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ 

```mermaid
graph TD
    A[Ø§Ù„Ø²Ø§Ù…Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡] --> B[Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù…ÛŒÚ©Ø±ÙˆØ³Ø±ÙˆÛŒØ³]
    A --> C[ Saga Ø¯Ø± Ø®Ø±ÛŒØ¯ Ø§Ù„Ú¯ÙˆÛŒ]
    A --> D[ Circuit Breaker Ø¯Ø± Ø¢Ø²Ù…ÙˆÙ† Ø§Ù„Ú¯ÙˆÛŒ]
    A --> E[Ø¨Ø§ Event-driven Ø§Ø±ØªØ¨Ø§Ø· RabbitMQ ]
    A --> F[ API Gateway ÙˆØ±ÙˆØ¯ Ø§Ø² Ø·Ø±ÛŒÙ‚]
    style A fill:#ff6b6b,stroke:#333,stroke-width:1.5
```

âœ” Microservices
âœ” Saga Pattern
âœ” Circuit Breaker
âœ” RabbitMQ
âœ” API Gateway

---

## ğŸ§± Û³. Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§

<details>
<summary>Û³.Û± Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¹Ù…Ù„Ú©Ø±Ø¯ÛŒ (Functional Requirements)</summary>

| Ú©Ø¯    | Ø³Ø±ÙˆÛŒØ³       | Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ÛŒ                        | ØªÙˆØ¶ÛŒØ­            |
| ----- | ----------- | ------------------------------- | ---------------- |
| FR-01 | Auth        | Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…/ÙˆØ±ÙˆØ¯                    | JWT              |
| FR-02 | Auth        | ØµØ¯ÙˆØ± JWT                        | Login Token      |
| FR-03 | Booking     | Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ù†Ø§Ø¨Ø¹                    | Ø§ØªØ§Ù‚â€ŒÙ‡Ø§ØŒ Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ |
| FR-04 | Booking     | Ø±Ø²Ø±Ùˆ + Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Overbooking   | Ù‚ÙÙ„ + Ú†Ú© ØªØ¯Ø§Ø®Ù„   |
| FR-05 | Marketplace | ØªØ¹Ø±ÛŒÙ Ù…Ø­ØµÙˆÙ„                     | ØªÙˆØ³Ø· ÙØ±ÙˆØ´Ù†Ø¯Ù‡     |
| FR-06 | Marketplace | Ø§Ù„Ú¯ÙˆÛŒ Saga                      | Ø®Ø±ÛŒØ¯ Ú†Ù†Ø¯Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒ |
| FR-07 | Exam        | Ø³Ø§Ø®Øª Ø¢Ø²Ù…ÙˆÙ†                      | Ø§Ø³ØªØ§Ø¯            |
| FR-08 | Exam        | Ø´Ø±Ú©Øª Ø¯Ø± Ø¢Ø²Ù…ÙˆÙ† + Circuit Breaker | Ø§Ø¹Ù„Ø§Ù† Ø´Ø±ÙˆØ¹       |
| FR-09 | IoT         | Ø¯Ø§Ø¯Ù‡ Ø²Ù†Ø¯Ù‡ Ø³Ù†Ø³ÙˆØ±                 | Ø¯Ù…Ø§ Ùˆ Ú©Ù„Ø§Ø³       |
| FR-10 | IoT         | Ù†Ù‚Ø´Ù‡ Ø´Ø§ØªÙ„                       | Ù…ÙˆÙ‚Ø¹ÛŒØª GPS       |

</details>

<details>
<summary>Û³.Û² Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ ØºÛŒØ±Ø¹Ù…Ù„Ú©Ø±Ø¯ÛŒ (Non-Functional Requirements)</summary>

| Ú©Ø¯       | Ø¹Ù†ÙˆØ§Ù†            | Ù¾ÛŒØ§Ù…Ø¯ Ù…Ø¹Ù…Ø§Ø±ÛŒ            |
| -------- | ---------------- | ----------------------- |
| NFR-S01  | Ù…Ù‚ÛŒØ§Ø³â€ŒÙ¾Ø°ÛŒØ±ÛŒ Ø§ÙÙ‚ÛŒ | Stateless Ø¨ÙˆØ¯Ù† Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ |
| NFR-MT01 | Multi-Tenancy    | Schema-per-tenant       |
| NFR-P01  | Performance      | Cache Ùˆ Async           |
| NFR-SE01 | Security         | JWT + RBAC              |
| NFR-R01  | Fault Tolerance  | Saga + Circuit Breaker  |

</details>

---

## ğŸ§± Û´. Ø¯ÛŒØ§Ú¯Ø±Ø§Ù…â€ŒÙ‡Ø§ÛŒ C4

<details>
<summary>ğŸ“˜ Level 1 â€“ System Context</summary>

> Ù†Ù…Ø§ÛŒ Ú©Ù„ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ùˆ Ø³ÛŒØ³ØªÙ…

```mermaid
flowchart TB
    Student([Ø¯Ø§Ù†Ø´Ø¬Ùˆ])
    Teacher([Ø§Ø³ØªØ§Ø¯])
    Seller([ÙØ±ÙˆØ´Ù†Ø¯Ù‡])
    Admin([Ù…Ø¯ÛŒØ± Ø³ÛŒØ³ØªÙ…])

    APIGateway([API Gateway])
    MainSystem([Ù¾Ù„ØªÙØ±Ù… Ù…Ø¯ÛŒØ±ÛŒØª Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡])
    MessageBroker([RabbitMQ])
    DBs((Ù¾Ø§ÛŒÚ¯Ø§Ù‡â€ŒØ¯Ø§Ø¯Ù‡ Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§))
    IoTDevice([Ø³Ù†Ø³ÙˆØ± IoT<br/>Ø¯Ù…Ø§/Ù…ÙˆÙ‚Ø¹ÛŒØª])

    Student --> APIGateway
    Teacher --> APIGateway
    Seller --> APIGateway
    Admin --> APIGateway

    APIGateway --> MainSystem
    MainSystem --> MessageBroker
    MainSystem --> DBs
    IoTDevice --> MainSystem
```

</details>

<details>
<summary>ğŸ“— Level 2 â€“ Container Diagram</summary>

> Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ + Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù…Ø³ØªÙ‚Ù„ + RabbitMQ

```mermaid
flowchart TB

    Student([Ø¯Ø§Ù†Ø´Ø¬Ùˆ])
    Teacher([Ø§Ø³ØªØ§Ø¯])
    Seller([ÙØ±ÙˆØ´Ù†Ø¯Ù‡])
    Admin([Ù…Ø¯ÛŒØ± Ø³ÛŒØ³ØªÙ…])

    APIGateway[[API Gateway]]

    subgraph Services [Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…]
        AuthService[[Auth Service]]
        BookingService[[Booking Service]]
        MarketplaceService[[Marketplace Service]]
        ExamService[[Exam Service]]
        IoTService[[IoT Service]]
        MessageBroker[(RabbitMQ)]
    end

    AuthDB[(Auth DB)]
    BookingDB[(Booking DB)]
    MarketDB[(Marketplace DB)]
    ExamDB[(Exam DB)]
    IoTDB[(IoT DB)]

    Student --> APIGateway
    Teacher --> APIGateway
    Seller --> APIGateway
    Admin --> APIGateway

    APIGateway --> AuthService
    APIGateway --> BookingService
    APIGateway --> MarketplaceService
    APIGateway --> ExamService
    APIGateway --> IoTService

    AuthService --> AuthDB
    BookingService --> BookingDB
    MarketplaceService --> MarketDB
    ExamService --> ExamDB
    IoTService --> IoTDB

    MarketplaceService --> MessageBroker
    BookingService --> MessageBroker
    ExamService --> MessageBroker
    IoTService --> MessageBroker

    MessageBroker --> MarketplaceService
    MessageBroker --> BookingService
    MessageBroker --> ExamService
    MessageBroker --> IoTService
```

</details>

<details>
<summary>ğŸ§© Level 3 â€” Auth Service</summary>

> Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØªØŒ JWTØŒ Role Management

```mermaid
flowchart TB

    subgraph AuthService ["Auth Service"]
        Controller[[Auth Controller]]
        ServiceLayer[[Auth Logic]]
        UserRepo[(User Repo)]
        RoleRepo[(Role Repo)]
        JWTProvider[[JWT Provider]]
        PasswordHasher[[Password Hasher]]
        RBAC[[RBAC Manager]]
    end

    AuthDB[(Auth DB)]

    Controller --> ServiceLayer
    ServiceLayer --> UserRepo
    ServiceLayer --> RoleRepo
    ServiceLayer --> JWTProvider
    ServiceLayer --> PasswordHasher
    ServiceLayer --> RBAC

    UserRepo --> AuthDB
    RoleRepo --> AuthDB
```

</details>

<details>
<summary>ğŸ§© Level 3 â€“ Resource & Booking Service</summary>

> Ø±Ø²Ø±ÙˆØŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² OverbookingØŒ Lock Manager

```mermaid
flowchart TB
    subgraph BookingService ["Booking Service"]
        BookingController[[Booking Controller]]
        ReservationManager[[Reservation Manager]]
        AvailabilityChecker[[Availability Checker]]
        BookingRepo[(Booking Repo)]
        ResourceRepo[(Resource Repo)]
        LockManager[[Distributed Lock Manager]]
        EventPublisher[[Event Publisher]]
        NotificationClient[[Notification Client]]
    end

    Cache[(Redis Cache)]
    BookingDB[(Booking DB)]
    MessageBroker[(RabbitMQ)]

    BookingController --> ReservationManager
    ReservationManager --> AvailabilityChecker
    ReservationManager --> LockManager
    ReservationManager --> BookingRepo
    ReservationManager --> EventPublisher
    ReservationManager --> NotificationClient
    AvailabilityChecker --> Cache
    BookingRepo --> BookingDB
    ResourceRepo --> BookingDB
    EventPublisher --> MessageBroker
```

</details>

<details>
<summary>ğŸ§© Level 3 â€” Marketplace Service</summary>

> ÙØ±Ø¢ÛŒÙ†Ø¯ Ø®Ø±ÛŒØ¯ Ø¨Ø§ Saga + Ø¬Ø¨Ø±Ø§Ù† (Compensation)

```mermaid
flowchart TB

    subgraph MarketplaceService ["Marketplace Service - Saga Orchestrator"]

        MarketplaceController[[Marketplace Controller]]
        OrderManager[[Order Manager]]
        SagaOrchestrator[[Saga Orchestrator]]
        InventoryChecker[[Inventory Checker]]
        PaymentClient[[Payment Client]]
        OrderRepo[(Order Repo)]
        ProductRepo[(Product Repo)]
        EventPublisher[[Event Publisher]]
        EventConsumer[[Event Consumer]]
        CompensationManager[[Compensation Manager]]

    end

    OrderDB[(Order DB)]
    ProductDB[(Product DB)]
    MessageBroker[(RabbitMQ)]
    IdempotencyStore[(Idempotency Store)]

    MarketplaceController --> OrderManager
    OrderManager --> InventoryChecker
    OrderManager --> PaymentClient
    OrderManager --> SagaOrchestrator
    OrderManager --> OrderRepo

    InventoryChecker --> ProductRepo
    ProductRepo --> ProductDB
    OrderRepo --> OrderDB

    SagaOrchestrator --> EventPublisher
    EventPublisher --> MessageBroker
    MessageBroker --> EventConsumer
    EventConsumer --> SagaOrchestrator

    SagaOrchestrator --> CompensationManager
    CompensationManager --> OrderRepo
    CompensationManager --> ProductRepo

    OrderManager --> IdempotencyStore
```

</details>

<details>
<summary>ğŸ§© Level 3 â€” Exam Service</summary>

> Ø´Ø±ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ† + Circuit Breaker + Ø§Ø¹Ù„Ø§Ù†

```mermaid
flowchart TB

    subgraph ExamService ["Exam Service - Online Exams"]

        ExamController[[Exam Controller]]
        ExamManager[[Exam Manager]]
        ExamScheduler[[Exam Scheduler]]
        QuestionRepo[(Question Repo)]
        ExamRepo[(Exam Repo)]
        ResultRepo[(Result Repo)]
        NotificationClient[[Notification Client]]
        CB[[Circuit Breaker]]
        EventPublisher[[Event Publisher]]
        EventConsumer[[Event Consumer]]

    end

    ExamDB[(Exam DB)]
    QuestionDB[(Question DB)]
    ResultDB[(Result DB)]
    MessageBroker[(RabbitMQ)]
    Cache[(Redis Cache)]

    ExamController --> ExamManager
    ExamManager --> ExamRepo
    ExamManager --> QuestionRepo
    ExamManager --> ResultRepo
    ExamManager --> NotificationClient
    NotificationClient --> CB
    CB --> NotificationClient

    ExamManager --> Cache
    ExamManager --> EventPublisher
    EventPublisher --> MessageBroker
    MessageBroker --> EventConsumer

    ExamRepo --> ExamDB
    QuestionRepo --> QuestionDB
    ResultRepo --> ResultDB
```

</details>

<details>
<summary>ğŸ§© Level 3 â€” IoT Service</summary>

> Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡Ù” Ø²Ù†Ø¯Ù‡ â€” Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø´Ø§ØªÙ„ â€” Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯

```mermaid
flowchart TB

    subgraph IoTService ["IoT Service - Live Sensors"]

        IoTController[[IoT Controller]]
        IoTIngestor[[Sensor Ingestor]]
        IoTProcessor[[Data Processor]]
        LocationTracker[[Shuttle Tracker]]
        DashboardService[[Dashboard Updater]]
        EventPublisher[[Event Publisher]]
        EventConsumer[[Event Consumer]]

    end

    IoTDB[(IoT DB)]
    Cache[(Redis Cache)]
    MessageBroker[(RabbitMQ)]

    IoTController --> IoTIngestor
    IoTIngestor --> IoTProcessor
    IoTProcessor --> LocationTracker
    IoTProcessor --> DashboardService
    IoTProcessor --> IoTDB
    IoTProcessor --> Cache

    IoTProcessor --> EventPublisher
    EventPublisher --> MessageBroker
    MessageBroker --> EventConsumer
```

</details>


